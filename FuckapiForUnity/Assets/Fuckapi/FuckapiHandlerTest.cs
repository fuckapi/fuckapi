using UnityEngine;
using System.Collections;

public class FuckapiHandlerTest : MonoBehaviour
{

    public bool isTest = false;
    int cursor = 0;
    float oldTime;

    string[] testAccel = new string[]{
        "2.311939815339315,-0.2574846596040743,0.007669491310934973",
        "-4.8440300923303425,-0.12874232980203715,0.0038347456554674864",
        "3.077984953834857,-0.5643711649009902,2.0019173728278474",
        "2.0389924769174286,-0.7821855824504951,-4.499041313586076",
        "1.0194962384587143,-1.8910927912252191,1.2504793432069619",
        "-1.4902518807706429,2.0544536043873904,-0.8747603283964054",
        "0.7548740596146786,0.02722680219369522,1.5626198358017973",
        "1.3774370298073109,0.01361340109684761,-3.7186900820991013",
        "-1.3112814850963446,3.5068067005483954,0.640654958950563",
        "0.34435925745185614,-1.7465966497258023,5.8203274794752815",
        "-0.8278203712740719,-0.37329832486290115,-4.589836260262473",
        "0.5860898143629356,-0.18664916243142216,1.7050818698687635",
        "0.7930449071814678,-0.09332458121571108,-3.6474590650655045",
        "-0.10347754640929452,-0.04666229060785554,0.17627046746724773",
        "-1.5517387732046473,-2.0233311453039278,2.5881352337337376",
        "1.7241306133976764,-1.0116655726519639,4.794067616866869",
        "-2.6379346933011902,3.494167213674018,-3.1029661915665656",
        "0.18103265334940488,1.247083606837009,0.4485169042168309",
        "0.09051632667467402,-1.8764581965814955,-0.27574154789158456",
        "2.045258163337337,-0.43822909829077616,-0.637870773945906",
        "72.02262908166867,143.7808854508546,-1.318935386972953",
        "40.01131454083435,77.8904427254273,-2.6594676934864765",
        "143.00565727041717,-150.55477863728635,3.1702661532567618",
        "-144.4971713647914,-31.277389318643174,0.5851330766283809",
        "-49.748585682395685,-20.138694659321573,-2.7074334616859232",
        "-33.87429284119787,-6.069347329660786,6.146283269157038",
        "-44.937146420598935,136.4653263351696,-139.42685836542148",
        "170.53142678970053,-70.7673368324152,64.2865708172892",
        "-85.23428660514975,104.1163315837924,46.1432854086446",
        "-32.617143302574874,-85.94183420810378,19.071642704322358",
        "-10.808571651287423,-40.97091710405189,8.035821352161292",
        "-12.904285825643683,-16.985458552025932,-0.4820893239193538",
        "6.5478570871781585,-17.992729276012938,4.258955338040323",
        "-6.226071456410921,143.00363536199353,19.62947766902016",
        "-0.11303572820543195,64.00181768099677,-4.185261165489919",
        "-0.056517864102715976,-102.99909115950163,28.40736941725504",
        "-12.028258932051358,103.00045442024918,20.703684708627407",
        "9.485870533974321,29.000227210124592,-100.1481576456863",
        "148.74293526698716,21.000113605062296,69.92592117715685",
        "-65.62853236650642,29.000056802531148,-89.03703941142157",
        "115.18573381674679,6.000028401265574,34.98148029428921",
        "65.5928669083734,11.50001420063279,5.9907401471446065",
        "24.296433454186698,17.250007100316395,-139.0046299264277",
        "32.64821672709335,8.625003550158198,-69.50231496321385",
        "16.82410836354667,12.812501775079099,-61.251157481606924",
        "31.91205418177333,-10.093749112460443,-20.625578740803462",
        "1.9560270908866642,10.953125443769778,-8.312789370401788",
        "13.478013545443332,-4.523437278115111,-38.656394685200894",
        "-115.76099322727833,11.738281360942437,-23.328197342600447",
        "67.61950338636083,-14.130859319528781,109.33590132869972",
        "28.309751693180417,1.9345703402356094,-59.33204933565014",
        "2.1548758465902154,3.9672851701178047,-15.666024667825013",
        "6.577437923295108,-2.5163574149410977,-24.833012333912507",
        "-17.21128103835244,3.741821292529451,23.583493833043804",
        "6.3943594808237805,-4.1290893537352815,-0.20825308347809823",
        "-9.302820259588117,-7.564544676867641,163.8958734582609",
        "-2.6514101297940584,-11.78227233843382,-57.05206327086955",
        "-31.32570506489703,1.6088638307830934,118.97396836456528",
        "-163.1628525324485,-11.695568084608453,-102.01301581771736",
        "-81.58142626622424,12.652215957695773,131.49349209114132",
        "-32.79071313311212,-27.673892021152113,72.74674604557072",
        "-31.895356566556075,-9.336946010576057,36.37337302278547",
        "-24.947678283278037,-6.168473005288028,-75.81331348860726",
        "-3.4738391416390186,-146.08423650264402,-17.906656744303632",
        "-9.23691957081951,76.95788174867799,-26.453328372151873",
        "-0.11845978540975466,28.978940874338996,-4.726664186075936",
        "5.940770107295123,23.489470437169498,97.13666790696197",
        "8.970385053647533,4.244735218584749,44.06833395348099",
        "14.985192526823766,8.122367609292374,-12.96583302325962",
        "141.49259626341188,7.061183804646188,-151.9829165116298",
        "-77.25370186829406,18.530591902323096,-91.4914582558149",
        "127.37314906585297,0.7652959511615478,-77.24572912790745",
        "61.186574532926485,2.882647975580774,-16.622864563953726",
        "25.093287266463243,14.941323987790383,7.688567718023137",
        "32.54664363323162,-2.0293380061048083,-10.655716140988488",
        "34.273321816615805,-2.014669003052404,-17.827858070494244",
        "18.136660908307903,15.992665498473798,90.08607096475293",
        "16.06833045415395,-10.503667250763101,22.543035482376467",
        "-3.9658347729230172,-0.7518336253815505,21.27151774118829",
        "-20.98291738646151,4.624083187309225,-97.36424112940585",
        "18.508541306769246,-14.187958406345388,-31.182120564702927",
        "-13.245729346615377,-18.093979203172694,0.4089397176485363",
        "-6.622864673307689,-9.046989601586347,175.20446985882427",
        "-33.311432336653844,14.976505199206827,93.60223492941213",
        "-160.1557161683269,-1.5117474003965867,36.30111746470607",
        "-80.07785808416344,-0.7558737001982934,35.65055873235315",
        "-42.53892904208172,-6.877936850099147,46.325279366176574",
        "-26.769464521040845,-13.438968425049573,5.6626396830884005",
        "-0.8847322605204226,0.28051578747521333,-73.6686801584558",
        "-35.44236613026021,15.140257893737605,41.665659920772214",
        "-15.221183065130106,-3.9298710531311976,-79.1671700396139",
        "-15.610591532565081,7.535064473434403,11.416414980193053",
        "4.194704233717459,-6.2324677632827985,-15.791792509903416",
        "7.597352116858701,13.3837661183586,0.6041037450482918",
        "163.79867605842935,0.19188305917930393,33.30205187252409",
        "108.39933802921468,3.095941529589652,-137.84897406373796",
        "64.19966901460734,7.047970764794826,0.5755129681310791",
        "33.59983450730367,6.023985382397413,-18.21224351593446",
        "32.29991725365184,13.511992691198714,-13.60612175796723",
        "-97.35004137317408,-0.7440036544006432,-28.303060878983615",
        "71.82497931341295,-5.872001827200322,-12.151530439491808",
        "6.912489656706477,7.063999086399832,23.924234780254096",
        "-5.043755171646765,-2.968000456800084,-74.5378826098729",
        "16.978122414176624,-12.984000228400042,-21.268941304936448",
        "-3.0109387929116878,-14.992000114200025,-12.13447065246828",
        "-16.505469396455844,-1.4960000571000123,-22.06723532623414",
        "-168.25273469822793,-7.74800002855001,170.96638233688293",
        "-74.62636734911396,-162.874000014275,21.483191168441408",
        "-50.81318367455697,-75.9370000071375,12.741595584220704",
        "-7.906591837278484,-42.96850000356875,24.870797792110352",
        "-5.453295918639242,-12.484250001784403,85.93539889605518",
        "-26.22664795931962,142.2578749991078,-46.53230055197241",
        "-5.1133239796598104,-78.3710625004461,-40.266150275986206",
        "-17.556661989829877,100.31446874977695,171.86692486200695",
        "-3.7783309949149384,64.15723437488847,-79.06653756899641",
        "1.6108345025425024,50.07861718744424,-42.033268784498205",
        "161.30541725127125,25.53930859372212,-116.5166343922491",
        "96.65270862563563,19.769654296861063,-70.75831719612461",
        "68.82635431281781,4.3848271484305315,-49.379158598062304",
        "47.913177156408906,6.192413574215266,45.31042070096885",
        "-88.54341142179554,-0.9037932128923671,34.15521035048437",
        "-49.27170571089778,20.048103393553816,-169.42239482475782",
        "-25.13585285544889,-1.9759483032230918,-97.71119741237885",
        "78.93207357227556,3.512025848388447,120.64440129381057",
        "37.96603678613778,4.2560129241942235,-24.17779935309477",
        "37.48301839306889,-15.371993537902881,11.911100323452615",
        "-12.258490803465556,-11.18599676895144,6.955550161726251",
        "0.3707545982672258,-12.09299838447572,225.47777508086313",
        "-172.31462270086638,1.9535008077621399,105.7388875404315",
        "-94.65731135043319,-22.52324959611893,133.36944377021564",
        "-64.32865567521662,9.238375201940535,59.18472188510782",
        "-0.1643278376083117,7.619187600970264,97.59236094255402",
        "147.91783608119584,8.809593800485132,-164.703819528723",
        "-64.04108195940208,6.904796900242559,-102.35190976436161",
        "115.97945902029896,-3.5476015498787206,15.824045117819196",
        "52.98972951014948,3.2261992250606397,-172.0879774410904",
        "39.49486475507474,15.61309961253032,-108.04398872054526",
        "39.24743237753737,6.806549806265167,-175.02199436027263",
        "36.1237161887687,4.9032749031325835,8.489002819863686",
        "-85.43814190561565,-13.048362548433715,-39.2554985900681",
        "64.28092904719217,-4.524181274216858,15.87225070496595",
        "-1.859535476403913,-7.762090637108429,79.43612535248303",
        "-176.42976773820197,-0.3810453185542144,140.21806267624152",
        "-98.21488386910099,-0.6905226592771072,234.10903133812076",
        "-26.10744193455048,-2.3452613296385607,242.5545156690605",
        "128.44627903272476,13.82736933518072,91.77725783453025",
        "58.72313951636238,18.41368466759036,-175.11137108273488",
        "29.36156975818119,-6.29315766620482,-241.05568554136744",
        "13.180784879090595,-7.14657883310241,-192.52784277068372",
        "28.590392439545298,-21.073289416551205,-297.26392138534186",
        "42.79519621977265,-25.536644708275603,-71.63196069267093",
        "22.89759810988633,4.731677645862199,-95.31598034633544",
        "-12.551200945056834,18.365838822931096,378.3420098268323",
        "-20.275600472528417,1.182919411465548,361.17100491341625",
        "-10.137800236264212,2.091459705732774,90.58550245670813",
        "-180.06890011813212,17.045729852866387,173.29275122835406",
        "-62.034450059066046,-6.977135073566814,138.64637561417703",
        "129.98277497046698,-15.488567536783407,-261.6768121929115",
        "54.99138748523349,-4.244283768391703,-226.33840609645574",
        "35.995693742616744,-1.6221418841958553,-89.16920304822793",
        "17.99784687130837,13.188929057902072,-308.58460152411396",
        "13.498923435654184,12.094464528951036,-169.79230076205698",
        "22.24946171782709,-25.452767735524482,80.60384961897148",
        "-29.375269141086456,17.273616132237763,115.30192480948574",
        "-11.187634570543224,18.636808066118874,164.1509624047428",
        "-16.093817285271612,7.318404033059437,298.0754812023715",
        "-163.5469086426358,-34.34079798347028,194.53774060118576",
        "-78.7734543213179,-20.67039899173514,126.26887030059288",
        "-15.88672716065895,-5.83519949586757,-98.86556484970356",
        "-9.443363580329475,14.082400252066215,-90.93278242485167",
        "129.27831820983525,4.541200126033104,-167.46639121242583",
        "82.63915910491762,10.770600063016559,-222.23319560621292",
        "58.81957955245881,7.8853000315082795,-309.11659780310646",
        "36.90978977622941,-16.05734998424586,-130.05829890155326",
        "-21.54510511188529,-2.02867499212293,77.97085054922337",
        "-5.772552555942646,-15.014337496061465,307.48542527461177",
        "-155.38627627797132,26.492831251969264,299.7427126373059",
        "-5.69313813898566,-74.75358437401538,304.37135631865294",
        "-69.84656906949283,46.62320781299231,45.68567815932647",
        "-44.423284534746415,25.31160390649616,102.84283907966324",
        "-9.211642267373207,9.655801953248073,-192.07858046016827",
        "136.8941788663134,1.8279009766240364,-206.03929023008413",
        "83.4470894331567,-1.0860495116879747,-246.51964511504207",
        "48.72354471657835,6.956975244156013,-315.75982255752103",
        "34.36177235828918,-4.521512377921994,-96.37991127876052",
        "7.6808861791445935,-15.760756188960997,45.31004436061971",
        "-24.659556910427703,12.119621905519494,160.65502218030986",
        "-151.82977845521387,-9.440189047240253,380.827511090155",
        "-74.41488922760692,-24.720094523620126,440.9137555450775",
        "-82.70744461380343,-75.36004726181005,190.45687777253875",
        "-29.353722306901716,77.31997636909497,-186.2715611137305",
        "-18.676861153450886,38.15998818454747,-246.63578055686526",
        "18.161569423274557,6.079994092273736,-198.31789027843263",
        "179.08078471163728,-11.960002953863125,-227.65894513921626",
        "107.04039235581864,1.5199985230684376,-243.32947256960813",
        "62.02019617790932,-6.740000738465781,-131.66473628480406",
        "-4.989901911045337,12.629999630767117,9.66763185759794",
        "6.005049044477332,-11.685000184616442,322.8338159287989",
        "-14.997475477761334,-24.84250009230822,446.91690796439934",
        "-83.99873773888066,37.078749953845886,275.45845398219967",
        "-148.49936886944033,-96.46062502307706,179.22922699109995",
        "-29.249684434720166,42.76968748846147,-158.38538650445003",
        "136.87515778263992,14.384843744230736,-375.6926932522251",
        "100.43757889131996,-8.307578127884632,-259.84634662611256",
        "41.71878944565998,4.8462109360576875,-235.92317331305628",
        "27.85939472282999,-3.0768945319711563,-356.46158665652814",
        "-22.070302638585005,18.96155273401442,40.2692066717359",
        "-153.53515131929248,1.4807763670072092,318.63460333586795",
        "70.73242434035375,-163.75961181649637,530.3173016679339",
        "43.36621217017687,76.6201940917518,321.15865083396693",
        "19.183106085088436,40.3100970458759,-110.92067458301653",
        "10.59155304254422,9.65504852293795,-21.460337291508267",
        "-4.20422347872789,12.327524261468973,-265.730168645754",
        "33.39788826063605,-8.336237869265513,-265.865084322877",
        "-91.30105586968197,6.8318810653672415,-250.9325421614385",
        "-38.15052793484099,-6.584059467316379,-281.46627108071925",
        "83.92473603257952,3.7079702663418104,-40.733135540359626",
        "21.46236801628976,15.353985133170909,434.6334322298202",
        "-4.768815991855121,-6.323007433414546,257.81671611491015",
        "-12.38440799592756,-148.16150371670727,380.4083580574552",
        "-149.69220399796376,66.41924814164636,295.2041790287276",
        "68.1538980010181,23.209624070823182,-141.3979104856362",
        "42.07694900050905,17.10481203541159,-360.1989552428181",
        "34.03847450025453,13.552406017705795,-434.09947762140905",
        "32.51923725012727,12.276203008852896,-190.54973881070453",
        "20.259618625063638,24.638101504426444,-185.77486940535226",
        "-30.87019068746818,23.81905075221323,-28.88743470267616",
        "-169.9350953437341,-15.590474623893385,252.05628264866192",
        "-73.46754767186707,-156.2952373119467,639.528141324331",
        "102.76622616406647,108.35238134402665,319.7640706621655",
        "63.38311308203323,32.67619067201333,-55.11796466891724",
        "29.691556541016617,-2.66190466399334,-165.0589823344585",
        "14.845778270508308,-10.33095233199667,-241.02949116722925",
        "21.422889135254152,-11.665476165998335,-315.0147455836146",
        "27.711444567627076,-137.83273808299919,-408.0073727918073",
        "-160.64427771618648,110.58363095850041,30.496313604096372",
        "-92.82213885809324,27.791815479250204,465.24815680204824",
        "147.58893057095338,-0.6040922603748982,504.12407840102424",
        "-32.20553471452331,-137.80204613018745,301.0620392005121",
        "63.897232642738345,69.59897693490628,-220.96898039974394",
        "9.948616321369173,-113.70051153254684,-403.98449019987197",
        "36.474308160684586,85.14974423372658,-655.992245099936",
        "22.237154080342293,44.57487211686329,-419.496122549968",
        "-205.88142295982885,-125.71256394156836,336.25193872501603",
        "-0.4407114799144267,-84.85628197078418,783.6259693625079",
        "114.77964426004279,-26.428140985392076,391.81298468125397",
        "-141.6101778699786,166.78592950730396,-152.09350765937302",
        "-82.80508893498927,53.39296475365198,-755.5467538296865",
        "144.09745553250536,30.69648237682599,-698.2733769148432",
        "-93.95127223374732,-177.151758811587,218.3633115425784",
        "-171.97563611687366,105.9241205942065,889.6816557712891",
        "324.51218194156314,-125.03793970289675,444.84082788564456",
        "45.25609097078157,5.981030148551611,-121.57958605717772",
        "-154.8719545146092,114.9905150742758,-1080.2897930285887",
        "-61.435977257304614,62.4952575371379,-416.6448965142944",
        "25.782011371347693,-165.75237123143103,1031.6775517428528",
        "43.39100568567386,-51.376185615715514,515.8387758714266",
        "143.19550284283693,-48.18809280785774,257.9193879357133",
        "-175.40224857858155,-32.09404640392887,-1091.5403060321435",
        "-56.70112428929076,167.95297679803556,-829.7701530160717",
        "-36.35056214464538,-2.5235116009822036,518.6149234919641",
        "-1.6752810723227185,0.2382441995088982,830.3074617459821",
        "114.66235946383864,-61.38087790024554,415.153730872991",
        "-84.66882026808071,48.30956104987723,-345.9231345635044",
        "131.66558986595965,-52.345219475061384,-1345.4615672817522",
        "-69.66720506702018,31.327390262469294,-265.7307836408761",
        "-172.8336025335101,-63.83630486876535,1186.134608179562",
        "177.58319873324496,4.081847565617295,593.0673040897809",
        "112.29159936662248,26.040923782808648,-71.96634795510954",
        "46.14579968331124,-36.47953810859565,-1270.9831739775548",
        "-146.9271001583444,-39.739769054297824,-451.4915869887774",
        "16.536449920827806,-6.3698845271488835,1193.7542065056114",
        "79.7682249604139,13.815057736425558,596.8771032528057",
        "-91.11588751979303,-30.592471131787192,-144.56144837359716",
        "-98.55794375989649,191.2037644341064,-1149.2807241867986",
        "7.221028120051756,-102.8981177829468,-544.6403620933993",
        "34.11051406002588,41.050941108526615,1217.6798189533004",
        "111.05525703001294,20.025470554263308,608.8399094766501",
        "-95.47237148499352,8.01273527713164,-373.08004526167497",
        "-75.23618574249679,100.50636763856582,-894.5400226308375",
        "-31.618092871248393,45.75318381928291,-165.27001131541874",
        "70.6909535643758,-73.12340809035855,1020.8649943422906",
        "181.8454767821879,-133.06170404517928,510.4324971711453",
        "43.922738391093944,31.96914797741036,-68.78375141442734",
        "-58.03863080445302,109.98457398870518,-982.3918757072137",
        "-108.51931540222651,50.99228699435259,-699.6959378536068",
        "-24.75965770111327,-140.0038565028237,992.6520310731966",
        "69.62017114944337,-44.50192825141187,634.3260155365983",
        "93.31008557472168,16.249035874294066,-87.33699223170083",
        "-45.34495721263916,-54.87548206285294,-931.6684961158504",
        "55.32752139368042,167.06225896857353,-622.8342480579253",
        "-143.33623930315977,-85.46887051571323,762.0828759710374",
        "156.33188034842013,-64.2344352578566,757.0414379855188",
        "40.665940174210064,51.8827823710717,110.02071899275938",
        "-169.16702991289498,132.44139118553585,-1053.9896405036204",
        "90.91648504355251,-135.27930440723208,-661.4948202518102",
        "-250.54175747822376,-72.13965220361604,1181.252589874095",
        "27.22912126088812,0.9301738981919812,590.6262949370475",
        "92.61456063044406,5.965086949095962,295.31314746852377",
        "-68.69271968477796,-25.51745652545202,-1133.8434262657381",
        "145.15364015761102,71.74127173727399,-1097.421713132869",
        "-206.92317992119445,-49.62936413136299,881.2891434335655",
        "26.038410039402777,-23.814682065681495,822.6445717167827",
        "91.01920501970139,-7.907341032840748,411.3222858583913",
        "-2.4903974901492916,42.0463294835796,-536.3388570708044",
        "127.25480125492535,23.5231647417898,-1461.1694285354022",
        "-135.87259937253734,-26.23841762910513,1.415285732298912",
        "10.563700313731317,145.88079118544744,1203.7076428661494",
        "81.78185015686566,116.94039559272372,547.8538214330747",
        "29.39092507843283,22.97019779636186,-228.07308928346265",
        "-109.30453746078359,-148.01490110181908,-68.03654464173133",
        "-63.152268730391825,1.4925494490904612,253.98172767913434",
        "94.92386563480409,-89.25372527545477,-175.50913616043283",
        "119.46193281740204,162.37313736227262,72.24543191978364",
        "35.73096640870102,46.68656868113631,55.12271595989182",
        "19.36548320435051,32.843284340568154,49.061357979946024",
        "16.182741602175255,-5.078357829715923,-196.969321010027",
        "2.5913708010876277,18.960821085142044,73.5153394949865",
        "-139.20431459945618,-3.019589457428978,40.75766974749331",
        "-73.6021572997281,18.99020527128551,21.878834873746655",
        "-30.801078649864053,-15.004897364357248,0.9394174368733275",
        "-16.900539324932026,8.497551317821376,15.469708718436777",
        "127.54973033753399,-4.751224341089312,-144.7651456407816",
        "62.77486516876699,15.124387829455344,75.1174271796092",
        "-116.11256741561652,-3.937806085272328,-110.9412864101954",
        "-56.05628370780826,11.531096957363843,134.02935679490224",
        "-22.028141853904117,21.76554847868192,18.01467839745112",
        "-7.0140709269520585,4.882774239340961,33.007339198725504",
        "135.99296453652397,-13.55861288032952,-0.9963304006373619",
        "61.996482268261985,-0.7793064401647598,25.50183479968132",
        "35.49824113413099,4.11034677991762,12.250917399840546",
        "23.249120567065496,10.05517338995881,6.625458699920273",
        "0.0,0.0,-10000.0" // 初期化用
    };

    // Use this for initialization
    void Start()
    {
        oldTime = Time.time;
        StartCoroutine(sendMessage());
    }

    private IEnumerator sendMessage()
    {
        // ループ
        while (isTest)
        {
            // 毎フレームループします
            yield return null;

            float nowTime = Time.time;
            if ((nowTime - oldTime) < 0.05f)
            {
                continue;
            }
            oldTime = Time.time;

            gameObject.SendMessage("ReceiveMessage", testAccel[cursor++]);
            // テストデータの最終行まで到達したら初期値に戻す
            if (cursor >= testAccel.Length)
            {
                cursor = 0;
            }
        }
    }
    
}
